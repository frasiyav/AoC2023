âŸ¨ ToNums, Split, lf âŸ© â† â€¢Import "bqn-libs/strings.bqn"

i â† â€¢file.Chars "input05.txt"
sâ€¿maps â† (âŠ‘â‹ˆ1âŠ¸â†“)lf SplitÂ¨ (2â¥Šlf) Split Â¯1â†“i
s â†© ToNums 1âŠ‘": " Split âŠ‘s
maps â†© âŒ½(>ToNumsÂ¨)Â¨1â†“Â¨maps

Map â† { ranges ğ•Š map:
  [iv,dt] â† â‰âˆ§ 2((+`-âŠ¸â†‘)â‹ˆÂ·-Â´â†‘)Ë˜map
  m â† 1âˆ¾1(â†“â‰ -âŠ¸â†“)âˆ¾iv
  iv (m/âˆ¾)â†©
  dt (0âˆ¾Ëœm/Â·â¥Š0â‰Ë˜âŠ¢)â†©
  ranges (âˆ§Â·âˆ¾{<2â†•âˆ¾âŸœ(iv(âŠ£/Ëœ1=â‹Ëœ)1â€¿0+ğ•©)âŠ¸âˆ¾Â´ğ•©}Ë˜)â†©
  (âŠ£+dtâŠËœivâ‹0â€¿Â¯1âŠ¸+)Ë˜ranges
}Ëœ
â€¢Show (âŒŠÂ´âˆ˜â¥ŠMapÂ´âŸœmaps)Â¨ âŸ¨â‰0â€¿1+âŒœs, +`Ë˜âˆ˜â€¿2â¥ŠsâŸ©
